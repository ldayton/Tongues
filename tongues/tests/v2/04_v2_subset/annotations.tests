=== int annotation allowed
def f(x: int) -> int:
    return x
---
ok
---

=== float annotation allowed
def f(x: float) -> float:
    return x
---
ok
---

=== str annotation allowed
def f(x: str) -> str:
    return x
---
ok
---

=== bool annotation allowed
def f(x: bool) -> bool:
    return x
---
ok
---

=== bytes annotation allowed
def f(x: bytes) -> bytes:
    return x
---
ok
---

=== object annotation allowed
def f(x: object) -> object:
    return x
---
ok
---

=== None return type allowed
def f() -> None:
    pass
---
ok
---

=== list with element type allowed
def f(xs: list[int]) -> list[int]:
    return xs
---
ok
---

=== nested list allowed
def f(xs: list[list[int]]) -> list[list[int]]:
    return xs
---
ok
---

=== dict with key and value types allowed
def f(d: dict[str, int]) -> dict[str, int]:
    return d
---
ok
---

=== set with element type allowed
def f(s: set[int]) -> set[int]:
    return s
---
ok
---

=== frozenset with element type allowed
def f(s: frozenset[int]) -> frozenset[int]:
    return s
---
ok
---

=== tuple with element types allowed
def f(t: tuple[int, str, bool]) -> tuple[int, str, bool]:
    return t
---
ok
---

=== single element tuple allowed
def f(t: tuple[int]) -> tuple[int]:
    return t
---
ok
---

=== homogeneous tuple allowed
def f(t: tuple[int, ...]) -> tuple[int, ...]:
    return t
---
ok
---

=== optional type allowed
def f(x: int | None) -> int | None:
    return x
---
ok
---

=== union type allowed
def f(x: int | str) -> int | str:
    return x
---
ok
---

=== three-way union allowed
def f(x: int | str | bool) -> int | str | bool:
    return x
---
ok
---

=== callable type allowed
from typing import Callable
def f(fn: Callable[[int], str]) -> Callable[[int], str]:
    return fn
---
ok
---

=== callable with multiple params allowed
from typing import Callable
def f(fn: Callable[[int, str], bool]) -> Callable[[int, str], bool]:
    return fn
---
ok
---

=== callable with no params allowed
from typing import Callable
def f(fn: Callable[[], int]) -> Callable[[], int]:
    return fn
---
ok
---

=== Optional from typing allowed
from typing import Optional
def f(x: Optional[int]) -> Optional[int]:
    return x
---
ok
---

=== Union from typing allowed
from typing import Union
def f(x: Union[int, str]) -> Union[int, str]:
    return x
---
ok
---

=== List from typing allowed
from typing import List
def f(xs: List[int]) -> List[int]:
    return xs
---
ok
---

=== Dict from typing allowed
from typing import Dict
def f(d: Dict[str, int]) -> Dict[str, int]:
    return d
---
ok
---

=== Set from typing allowed
from typing import Set
def f(s: Set[int]) -> Set[int]:
    return s
---
ok
---

=== Tuple from typing allowed
from typing import Tuple
def f(t: Tuple[int, str]) -> Tuple[int, str]:
    return t
---
ok
---

=== complex nested types allowed
def f(x: dict[str, list[tuple[int, str]]]) -> dict[str, list[tuple[int, str]]]:
    return x
---
ok
---

=== callable returning optional allowed
from typing import Callable
def f(fn: Callable[[int], str | None]) -> Callable[[int], str | None]:
    return fn
---
ok
---

=== list of callables allowed
from typing import Callable
def f(fns: list[Callable[[int], int]]) -> list[Callable[[int], int]]:
    return fns
---
ok
---

=== variable with annotation allowed
def f() -> int:
    x: int = 1
    return x
---
ok
---

=== class field with annotation allowed
class Foo:
    def __init__(self) -> None:
        self.x: int = 1
---
ok
---

=== class field without annotation not allowed
class Foo:
    def __init__(self) -> None:
        self.x = 1
---
error: annotation
---

=== bare list not allowed
def f(xs: list) -> list:
    return xs
---
error: bare
---

=== bare dict not allowed
def f(d: dict) -> dict:
    return d
---
error: bare
---

=== bare set not allowed
def f(s: set) -> set:
    return s
---
error: bare
---

=== bare tuple not allowed
def f(t: tuple) -> tuple:
    return t
---
error: bare
---

=== bare frozenset not allowed
def f(s: frozenset) -> frozenset:
    return s
---
error: bare
---

=== Any not allowed
from typing import Any
def f(x: Any) -> Any:
    return x
---
error: Any
---

=== Any in list not allowed
from typing import Any
def f(xs: list[Any]) -> list[Any]:
    return xs
---
error: Any
---

=== Any in dict value not allowed
from typing import Any
def f(d: dict[str, Any]) -> dict[str, Any]:
    return d
---
error: Any
---

=== Any in union not allowed
from typing import Any
def f(x: int | Any) -> int | Any:
    return x
---
error: Any
---

=== TypeVar not allowed
from typing import TypeVar
T = TypeVar("T")
def f(x: T) -> T:
    return x
---
error: TypeVar
---
